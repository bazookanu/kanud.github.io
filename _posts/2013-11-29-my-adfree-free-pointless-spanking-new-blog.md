---
layout: post
title: My Ad-Free, Free, Pointless, Spanking New Blog
---
<p >    It's built with Django on Heroku. It uses Dropbox for storage. Nobody knows what's on the home page.</p><p >    After two years on Wordpress, I (unwarrantedly) <i >hated</i> it. I hated using a web-based editor with all its buttons. I hated the constrained environment of posts and pages, and themes and plugins. But what I really hated was that I couldn't <i >play</i> with it in a way that appealed to me; i.e, without PHP and with Python.</p><p >    Therefore...    <br >    <h3 >Django!</h3>     liked what the project page said about it being used for high-pressure, fast-paced news websites, which is what I imagined my blog to be. The documentation was excellent. It's a but quirky, but great overall and all Python. Django may be overkill for a simple blog, but I had weird needs (elaborated later). Finding good, cheap hosting for Django was a bit of a problem. Thankfully, there's a <i >free</i> solution...</p><p >    <h3 >Heroku!</h3>    Heroku is a brilliant tool for making web apps. It started out with Ruby, and now supports Python, Node.js, Scala, Clojure and Java as well. The only fault with Heroku is that it's <i >too easy</i>. You can get an app up and running in under an hour tops. It took me all of two hours to migrate my Wordpress blog to Heroku. It was fugly, but it worked.</p><h2 >The Lowdown</h2>Lowdown isn't some library you've not heard of. Bear with me while I explain the philosophy first:<p > <a name="DitchingChronology" > </a>  <h3 >Ditching chronology!</h3>   You can't navigate my blog normally- posts are not ordered by date. The home page is determined stochastically. What the hell is happening?    <br >    Each post on the blog has a <i >rating</i>:    <br >    <code ><i >rating</i>= 50*<i >investment</i> + ( 100*<i >investment</i> + <i >hits_total</i> ) * 0.5^( <i >age</i>/<i >half_life</i>)  + 5*<i >moving_average</i> + 2^( 14-<i >age</i> ) </code>    <ul >        <li >            <i >investment</i> is a number from 1-3 that represents my effort.        </li>        <li >            <i >hits_total</i> is the total number of views the post has had.        </li>        <li >            <i >age</i> is how old the post is, in days        </li>        <li >            <i >half_life</i> entered by me, in days, represents the decreasing relevance of any post with time        </li>        <li >            <i >moving_average</i> is the average number of hits the post has had in the last three days        </li>    </ul>    Now for the formula itself. It is the summation of four parts:    <ul >        <li >            (i) represents effort, and some of it stays forever!        </li>        <li >            (ii) represents a post losing relevance with time, depending on its half-life        </li>        <li >            (iii) takes care of any resurgence in the popularity of a post, which should bump up its rating        </li>        <li >            (iv) gives a new post time to bring up its rating. Approximately, it will be among the top three posts for three days regardless of the number of views.        </li>    </ul>    Once the posts are thusly rated, the home page randomly displays one of the top rated posts. Other top-rated posts are linked on the left column.    <br >    Links to posts in the same series are on the right column, and these show up regardless of their rating.</p><p >    <h3 >The best interface is no interface!</h3>   I already use editors. I already have cloud storage. Why do I need to login to my blogging platform to use blog-specific versions of both?    <br >    You shouldn't need to do that. So I hooked up my app with <i >Dropbox</i>. I upload all my posts on my Dropbox, and let my app decide what to do with it. My app polls Dropbox to check for new posts at certain times, or when I prompt it, and everything gets magically synced! And if I need to correct or update something, I just change the file on my Dropbox-synced local folder. No logging in, no navigating, all fast, all whoosh!</p><h2 >git push heroku master</h2>That's the best part about Heroku if you know what you're doing, and the worst part if you're a noob. It just works.<p >    <h3 >Postgres!</h3>    <br >    I use it as my database. For a simple blogging app, you <i >don't</i> really need to do it the nice way. Initially, I managed with just CSV files and would have continued to use them. However, Heroku has an <i >ephemeral</i> file system. That means that everything you store at runtime is deleted when the app restarts. If you use more than one dyno (a dyno is a virtualized Unix container, and you can use one for free), stuff stored by one dyno will be invisible to the other.    <br >    If it wasn't this way, I would have continued to abuse the simplicity of Heroku. Postgres alone wasn't enough, however...</p><p >    <h3 >Redis!</h3>   Redis is probably the only database that can be described as cute. With Django, Redis is helpful for things like caching and queuing. Postgres can be used, but it isn't ideal for these kinds of things.    <br >    Django is event-driven. You cannot schedule tasks with it or do any parallel processing. Queueing becomes a non-trivial problem- you cannot spend time updating your database or polling your cloud while someone is waiting for the page to load. There are libraries to handle your queues nicely. I started off with <a href="www.celeryproject.org" >Celery</a>, but found it hard to understand. It seems excellent, but it's much more than what I need.</p><p >    <h3 >RQ!</h3>   <a href="http://python-rq.org" >Redis Queue</a> is a nice and simple way to add background tasks in Python. I actually use <a href="https://github.com/ui/django-rq" >django-rq</a>, which integrates RQ with Django.    <br >    At this point there were problems. I decided to use rq-scheduler as well to schedule tasks, but this arrangement was somewhat hard to control. The app could not handle more than a dozen hits a second. So I ditched rq-scheduler and did the scheduling myself.</p><p >    We're almost done. Heroku runs each process separately (as workers) and you need to pay for the time your worker runs in it's dyno. I have two processes (the web app itself and RQ), but don't really need two dynos. So I used:    <br >    <br >    <h3 >Honcho!</h3>     I have no idea what this is, except it helps me run many processes in one dyno. Also, because of <a href="https://github.com/nickstenning/honcho" >Honcho</a>, my app doesn't fail simply because one process failed. I'm sure the documentation is excellent, so read it if you want to know more.</p><h2 >Why You No Add Comments?</h2>Not adding commenting and share buttons was a conscious decision. I had the same idea the guys at Medium use- comments every paragraph, but finally decided to do away with comments altogether.<br >Firstly, hardly anyone posts comments. It's painful to post comments- you need to login and by the time you're done you wonder if you really should have commented.<br >Moreover, comments rarely add any value. Most of them are people agreeing or disagreeing with what you said. Thoughtful discussions never happen. Nobody comes back to see you reply to their comment, because they don't want to know in the first place. <br >Lastly, it is not very inspiring or useful to see 0 comments, 0 shares, 0 tweets and so on below 80% of your posts. Commenting and sharing is largely an empty activity. Really, it makes sense only if you're creating content specifically so that it gets shared. If you really have something to say, email me! Or reach me via fb or twitter. No? Well then you really didn't want to comment.<h2 >What Next?</h2>I'm still deciding. I have some ideas on privacy in blogging. I want to display my investment portfolio live on the website. I could also take a break and just write about stuff, and the other projects that I'm doing.<p >Anyway, <i >that's</i> how I got myself this blog. My description is neither complete nor well-done, so if you want to get your own blog or have any questions, go ahead and drop me a message.</p><hr ><br >1. I even funded <a href="https://ghost.org/" >Ghost</a> because I believed it would somehow have the best of Wordpress, Jekyll and Medium. Imagine my disappointment when the first thing they did was make a sexy in-browser editor.<br >2. Also, everything is a post. There's no divide as in Wordpress; the posts can be <i >displayed</i> as separate pages.<br >3. The ratings are updated once every ten hits to the blog on an average, as of now.<br >4. What a <i >perfect</i> product! The API is literally delightful.<br >5. RQ needs a script to start, and so did rq-scheduler. Testing was a nightmare, as I had to run all these scripts manually to see the problems.<br >6. I'm working on making this open-source.
